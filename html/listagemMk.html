<style>
	#tabela1 td:nth-child(1) {
		text-align: left;
		width: auto;
		max-width: 100px;
	}
	#tabela1 td:nth-child(2) {
		--w: 13%;
		width: var(--w);
		min-width: var(--w);
		max-width: var(--w);
	}
	#tabela1 td:nth-child(3) {
		--w: 13%;
		width: var(--w);
		min-width: var(--w);
		max-width: var(--w);
	}
	#tabela1 td:nth-child(4) {
		--w: 13%;
		width: var(--w);
		min-width: var(--w);
		max-width: var(--w);
		text-align: right;
	}
	#tabela1 td:nth-child(5) {
		--w: 8%;
		width: var(--w);
		min-width: var(--w);
		max-width: var(--w);
	}
	#tabela1 td:nth-child(6) {
		--w: 8%;
		width: var(--w);
		min-width: var(--w);
		max-width: var(--w);
		cursor: pointer;
	}
	#tabela1 td:nth-child(7) {
		--w: 8%;
		width: var(--w);
		min-width: var(--w);
		max-width: var(--w);
		cursor: pointer;
	}

	#tabela2 td:nth-child(1) {
		text-align: left;
		width: auto;
		max-width: 100px;
	}
	#tabela2 td:nth-child(2) {
		--w: 6%;
		width: var(--w);
		min-width: var(--w);
		max-width: var(--w);
	}
	#tabela2 td:nth-child(3) {
		--w: 8%;
		width: var(--w);
		min-width: var(--w);
		max-width: var(--w);
	}
	#tabela2 td:nth-child(4) {
		--w: 8%;
		width: var(--w);
		min-width: var(--w);
		max-width: var(--w);
	}
</style>

<h1 class="microPos2 h1">Listagem Instanciável</h1>
<div>
	&nbsp; Listagem de dados em tabela. A classe pode instanciar mais de uma
	tabela. Ordenamento, resumo e páginas individuais. O Filtro pode ou não ser
	individual.
</div>
<br />
<!-- LISTAGEM 1 -->
<div class="bordaDupla pad5">
	<h2>LISTAGEM 1:</h2>
	<div>Instancia: lista. Container: listas[0].</div>
	<div class="divListagemContainer" id="tabela1">
		<div class="divListagem">
			<table class="tableListagem">
				<thead>
					<tr>
						<th class="sort-mNome">Usuário</th>
						<th class="sort-mDataCadastro">Data Cadastro</th>
						<th class="sort-mDataUltimoAcesso">Último Acesso</th>
						<th class="sort-mTotalAcessos">Tot. Acessos</th>
						<th class="sort-mStatus">Status</th>
						<th class="acao">Editar</th>
						<th class="acao">Deletar</th>
					</tr>
				</thead>
				<tbody class="listBody"></tbody>
			</table>
		</div>
		<div class="tableResumo" mkImportar="/html/_resumoListaNovo.html"></div>
	</div>
	<br />
	<div class="iComGap">
		<div class="col30">
			<div class="i">
				<div class="col60">Filtro Usuário:</div>
				<div class="col40">
					<input
						name="mNome"
						class="iConsultas"
						data-mkfformato="string"
						placeholder="Nome do Usuario"
						value=""
					/>
				</div>
			</div>
		</div>
		<div class="col20">
			<div class="i microPos6">
				<button onclick="uiGetADD(0,'Listagem 1')">Adicionar</button>
			</div>
		</div>
		<div class="col20">
			<div class="i microPos4">
				<button onclick="uiClearFiltro(0)">Limpar Filtros</button>
			</div>
		</div>
		<div class="col20">
			<div class="i">
				<input
					type="search"
					name="mkFullFiltro"
					class="iConsultas"
					placeholder="Filtro Geral Listagem 1"
				/>
			</div>
		</div>
	</div>
</div>
<br />

<!-- LISTAGEM 2 -->
<div class="bordaDupla pad5">
	<h2>LISTAGEM 2:</h2>
	<div>Instancia: lista2. Container: listas[1].</div>
	<div class="divListagemContainer" id="tabela2">
		<div class="divListagem">
			<table class="tableListagem">
				<thead>
					<tr>
						<th class="sort-mNome">Usuário</th>
						<th class="sort-mStatus">Status</th>
						<th class="acao">Editar</th>
						<th class="acao">Deletar</th>
					</tr>
				</thead>
				<tbody class="listBody"></tbody>
			</table>
		</div>
		<div class="tableResumo" mkImportar="/html/_resumoListaNovo.html"></div>
	</div>
	<br />
	<div class="iComGap">
		<div class="col30">
			<div class="i">
				<div class="col60">Filtro Usuário:</div>
				<div class="col40">
					<input
						name="mNome"
						class="fTabela2"
						data-mkfformato="string"
						placeholder="Nome do Usuario"
						value="a"
					/>
				</div>
			</div>
		</div>
		<div class="col20">
			<div class="i microPos6">
				<button onclick="uiGetADD(1,'Listagem 2')">Adicionar</button>
			</div>
		</div>
		<div class="col20">
			<div class="i microPos4">
				<button onclick="uiClearFiltro(1)">Limpar Filtros</button>
			</div>
		</div>
		<div class="col20">
			<input
				type="search"
				name="mkFullFiltro"
				class="fTabela2"
				placeholder="Filtro Geral Listagem 2"
			/>
		</div>
	</div>
</div>

<!-- AREA DE ADICIONAR E EDITAR -->
<br />
<div class="i">
	<div class="j microPos2">
		<div id="Acao" class="operacaoContainer oculto">
			<div class="operacaoTitulo">ADD</div>
			<form class="operacaoCampos"></form>
			<div class="iComGap">
				<div class="j microPos8">
					<button class="operacaoAcao">ADD</button>
				</div>
			</div>
		</div>
	</div>
</div>
<br />
<br />Exemplo 3:<br />
<div class="fullCodigoContainer microPos5">
	<div class="i codigoContainer">
		<div class="titulo">Modo de uso - JS</div>
		<textarea class="regua" rows="32" cols="1" readonly>
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</textarea
		>
		<textarea
			class="codigo"
			rows="32"
			cols="120"
			onfocus="mk.mkSelecionarInner(this)"
			readonly
		>
// PARAMETROS PARA INSTANCIAR: 
// STRING, STRING, STRING, STRING, STRING, BOOL, FUNCTION, FUNCTION, FUNCTION

// Instanciando a lista2
var lista3 = new mk("/GetList","#tabela3","#modelo3",".fTabela3","mId");

// Exemplo: Container de listas:
var listas = [lista, lista2, lista3]; //(Lista 3 está na posicao 2)

// Exemplo: Visualizar a instancia por Container:
console.log(listas[2]);

// Exemplo: ADICIONAR direto da instancia:
lista2.add(objeto);

// Exemplo: ADICIONAR por Container (Objeto será adicionado ao final da lista):
listas[0].add(objeto);

// Exemplo: EDITAR por Container (Requer o K e V para encontrar o alvo):
listas[0].edit(obj, k, v);

// Exemplo: DELETAR por Container (Requer o K e V para encontrar o alvo):
listas[0].del(k, v);

// Exemplo: LIMPAR FILTRO por Container
listas[0].clearFiltro();

// Exemplo: ORDENAR por Container (Requer K e Sentido (0 / 1 / 2))
listas[0].orderBy("mTotalAcessos", 2); // 2 == toogle

// Exemplo: ORDENAR por Container
listas[0].orderBy("mNome");
</textarea
		>
	</div>
</div>

<br /><br />
<div class="fullCodigoContainer microPos5">
	<div class="i codigoContainer">
		<div class="titulo">Modo de uso - HTML</div>
		<textarea class="regua" rows="35" cols="1" readonly>
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</textarea
		>
		<textarea
			class="codigo"
			cols="120"
			onfocus="mk.mkSelecionarInner(this)"
			readonly
		>
<!-- TABELA -->

<div id="tabela3">
  <div>
    &lt;table class="tableListagem">
      <thead><tr>
          <th class="sort-mNome">Usuário</th>
          <th>Tot. Acessos</th>
        </tr></thead>
      <tbody></tbody>
    &lt;/table>
  </div>
  <div>
    <ul class="pagBotoes">
      <li class="pagBotao pag0 disabled">Anterior</li>
      <li class="pagBotao pag1 ativo">1</li>
      <li class="pagBotao pag2">2</li>
      <li class="pagBotao pag3 oculto">3</li>
      <li class="pagBotao pag4 oculto">4</li>
      <li class="pagBotao pag5 oculto">5</li>
      <li class="pagBotao pag6 oculto disabled">...</li>
      <li class="pagBotao pag7">3</li>
      <li class="pagBotao pag8">Próxima</li>
    </ul>
  </div>
</div>

<!-- MODELO -->

&lt;script type="text/html" id="modelo3" pk="mId">
  <tr id="${mId}">
    <td class="sort-mNome">${mNome}</td>
    <td>${mTotalAcessos}</td>
  </tr>
&lt;/script>
</textarea
		>
	</div>
</div>

<br />Resultado do Modo de Uso acima (Exemplo 3):<br />
<!-- EXECUCAO DO EXEMPLO 3 -->
<div id="tabela3">
	<div>
		<table class="tableListagem">
			<thead>
				<tr>
					<th class="sort-mNome">Usuário</th>
					<th>Tot. Acessos</th>
				</tr>
			</thead>
			<tbody></tbody>
		</table>
	</div>
	<div>
		<ul class="pagBotoes">
			<li class="pagBotao pag0 disabled">Anterior</li>
			<li class="pagBotao pag1 ativo">1</li>
			<li class="pagBotao pag2">2</li>
			<li class="pagBotao pag3 oculto">3</li>
			<li class="pagBotao pag4 oculto">4</li>
			<li class="pagBotao pag5 oculto">5</li>
			<li class="pagBotao pag6 oculto disabled">...</li>
			<li class="pagBotao pag7">3</li>
			<li class="pagBotao pag8">Próxima</li>
		</ul>
	</div>
</div>
<script type="text/html" id="modelo3" pk="mId">
	<tr id="${mId}">
		<td class="sort-mNome">${mNome}</td>
		<td>${mTotalAcessos}</td>
	</tr>
</script>

<br />
<br />
<ul class="tabela">
	<li>
		<div class="quebra">Funcionalidades</div>
		<div class="quebra">Modo de uso</div>
	</li>
	<li>
		<u><br />1. Sobre o básico/padrão:</u>
	</li>
	<li>
		<div class="quebra">
			&nbsp; A Listagem é uma grande ferramenta que contém várias funções
			interligadas para exibir conteúdos de forma organizada, permitindo ao
			usuário diversas possibilidades de iteração. Entre elas, as principais
			adicionar, editar, deletar, filtrar e ordenar são possíveis quando as
			funções de interface ao usuário (UI) do site ficam bem conectadas as
			funções de ações da(s) listagem(ns).
			<br />
			&nbsp; Na listagem instanciável, primeiro precisa instanciar a classe e
			coloca-la em uma variável. A sua UI deverá chamar os métodos / ações /
			propriedades a partir desta variável. Para facilitar sua UI, você pode
			colocar ela dentro de uma array com todas as instâncias.
			<br />
			&nbsp; Cada instância tem seu próprio armazenamento geral de dados. Se
			instanciarmos a listagem com nome "lista", os dados armazenados estarão em
			"lista.dadosFull". Quando modificar dados neste array de objetos, você
			pode solicitar "lista.atualizarListagem()" que a listagem corrigirá os
			dados recém modificados.
			<br />
			&nbsp; Abaixo será descrita de forma individual as funcionalidades.
		</div>
		<div class="quebra">
			&nbsp; <u>Pré-Requisitos:</u> <br /><br />
			&raquo; Biblioteca iniciada.
			<br /><br />
			&raquo; Uma URL de API para trazer dados em formato JSON.
			<br /><br />
			&raquo; Uma tabela (com thead e tbody) com um container que cerca o resumo
			e a tabela.
			<br /><br />
			&raquo; Um modelo de linha da tabela (veja ferramenta Molde).
		</div>
	</li>
	<li>
		<u><br />2. Instanciar uma nova listagem</u>
	</li>
	<li>
		<div class="quebra">
			<br />
			&nbsp; Para instanciar uma listagem na página, você vai precisar no mínimo
			de:
			<br />&raquo; Um endereço URL para a listagem coletar os dados
			necessários. <br />&raquo; Um container html com um id/classe incluindo
			uma tabela html com thead e tbody (obrigatório). <br />&raquo; Um Molde
			para as linhas da tabela.
			<br />
			&nbsp; ...
		</div>
		<div class="quebra">let lista = new mk()</div>
	</li>
</ul>

<br />
<br />
<!-- MODELO LISTAGEM 1 -->
<script type="text/html" id="modelo" pk="mNome" ob="mNome" od="0">
	<tr id="${mId}">
		<td class="sort-mNome">${mNome}</td>
		<td class="sort-mDataCadastro">
			<input type="date" value="${mDataCadastro}" />
		</td>
		<td class="sort-mDataUltimoAcesso">${mDataUltimoAcesso}</td>
		<td class="sort-mTotalAcessos">${mTotalAcessos}</td>
		<td class="sort-mStatus ${mStatus}"></td>
		<td class="acao">
			<a onclick="uiGetEDIT(mk.getTr(this),0);">EDIT</a>
		</td>
		<td class="acao">
			<a onclick="uiGetDEL(mk.getTr(this),0);">DEL</a>
		</td>
	</tr>
</script>

<!-- MODELO LISTAGEM 2 -->
<script type="text/html" id="modelo2" pk="mId" ob="mNome">
	<tr id="${mId}">
		<td class="sort-mNome">${mNome}</td>
		<td class="sort-mStatus ${mStatus}"></td>
		<td class="acao">
			<a onclick="uiGetEDIT(mk.getTr(this),1);">EDIT</a>
		</td>
		<td class="acao">
			<a onclick="uiGetDEL(mk.getTr(this),1);">DEL</a>
		</td>
	</tr>
</script>

<!-- MODELO DE ADICIONAR E EDITAR -->
<script type="text/html" id="modeloOperacao">
	<div class="iComGap">
		<div class="j" style="text-align: right;">${k}</div>
		<div class="j"><input name="${k}" class="" value="${v}" /></div>
	</div>
</script>

<script src="/js/listagemMk.js"></script>
